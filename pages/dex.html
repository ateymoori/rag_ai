Dex — SBAB Docs  documentation SBAB Docs Ansible Controller Ansible Roles Ansible Vault Argo Workflows Authentication & Authorization Bitbucket Boost Chatbot Booli Ceph Dex Upgrades Migration Fortigate troubleshooting Generate certificate Go GitHub Copilot GitLab @Sbab User Guide GitLab Maintenance Grafana Istio Java Jenkins Jenkinsfile Jmeter Kafka Maintenance Kafka @Sbab User Guide Kafka Connect Kubectl Access Kubernetes Lab environment Local Open Web Metrics infrastructure MongoDB Netbox NVIDIA Neo4J Sonatype Nexus repository Oracle OWASP Database OWASP @Sbab User Guide Pact Principles of Security Prometheus ReactJS Redis Renovate S3 Security Guidelines for Developers Sentry Maintenance Sentry User Guide Configuring Variables for Services Deployed to Kubernetes Software Architecture SonarQube Maintenance SonarQube User Guide Structurizr System Landscape Vagrant Zipkin Windows Pipelines SBAB Docs » Dex View page source Dex ï tnt/dex is deployed as a regular Helm chart: https://jenkins.common.sbab.se:8443/job/TNT/job/dex/ Upgrades ï Locate the latest available tag in dexidp/dex Update appVersion to the latest available tag Wait for the pipeline to deploy Migration ï Follow these steps to migrate from one to another data center. Scale down the deployment in the old data center: kubectl -- namespace tools scale deployment dex -- replicas = 0 Change only_datacenter in dex/Jenkinsfile Wait for the pipelines to deploy Verify that Dex in the new data center works, e.g: https://dex.{env}.sbab.se/dex/healthz Clean up from the old data center: kubectl -- namespace tools delete deployment dex kubectl -- namespace tools delete ingressroute dex kubectl -- namespace tools delete service dex kubectl -- namespace tools delete serviceaccount dex kubectl -- namespace tools delete configmap dex kubectl -- namespace tools delete clusterrolebinding dex Previous Next © Copyright 2024, TNT. Built with Sphinx using a theme provided by Read the Docs .