Security Guidelines for Developers — SBAB Docs  documentation SBAB Docs Ansible Controller Ansible Roles Ansible Vault Argo Workflows Authentication & Authorization Bitbucket Boost Chatbot Booli Ceph Dex Fortigate troubleshooting Generate certificate Go GitHub Copilot GitLab @Sbab User Guide GitLab Maintenance Grafana Istio Java Jenkins Jenkinsfile Jmeter Kafka Maintenance Kafka @Sbab User Guide Kafka Connect Kubectl Access Kubernetes Lab environment Local Open Web Metrics infrastructure MongoDB Netbox NVIDIA Neo4J Sonatype Nexus repository Oracle OWASP Database OWASP @Sbab User Guide Pact Principles of Security Prometheus ReactJS Redis Renovate S3 Security Guidelines for Developers Introduction Responsibilities Security by Design Secure Coding Practices Common Vulnerabilities in Web-Applications Developer Training Application Security Testing Code Review Unit Testing Static Application Security Testing (SAST) Dynamic Application Security Testing (DAST) Penetration Testing Shared Libraries Links Sentry Maintenance Sentry User Guide Configuring Variables for Services Deployed to Kubernetes Software Architecture SonarQube Maintenance SonarQube User Guide Structurizr System Landscape Vagrant Zipkin Windows Pipelines SBAB Docs » Security Guidelines for Developers View page source Security Guidelines for Developers ï Introduction Responsibilities Security by Design Secure Coding Practices Common Vulnerabilities in Web-Applications Developer Training Application Security Testing Shared Libraries Links Introduction ï In todayâs digital world, keeping our systems and data safe is more important than ever. As a developer, you play a vital role in creating and maintaining secure software that upholds the principles of confidentiality, integrity and accessibility. This security guideline aims to provide developers with a set of general software security coding practices, in an easy-to-use checklist format. It is not meant to be a comprehensive list of controls, however implementing these practices will mitigate most common software vulnerabilities. It can also be used as a starting point for further reading on the topic of application security. Note Teams are not obligated to follow all guidelines; some may not be relevant to certain applications or services. However, all teams are responsible for performing an initial risk assessment when starting new projects and determine which controls are appropriate to implement. Essential security features such as AAA (Authentication, Authorization, and Accounting) and logging must be implemented. Responsibilities ï While secure development is everyoneâs concern, it is important to recognize that each development team is responsible for the security of their respective applications and services. It is mandatory for every team to adhere to the requirements specified in â SÃ¤kerhetsinstruktion - Anskaffning, utveckling och underhÃ¥ll av informationssystem â. These include but are not limited to: Perform a risk analysis from a security perspective (section 4) Input validation (section 5.1) Message integrity (section 5.3) Output validation (section 5.4) Encryption (section 6) Access control for access to source code (7.4) Code review, if deemed necessary from risk analysis (section 7.5) Logging (section 8) Follow secure development best practices (section 9) Note If you have questions regarding these requirements, please contact Tech Security or the Security Team. Security by Design ï Security by Design is an approach to software development that includes security considerations from the very beginning of the design and development process. The goal is to ensure that security is an integrated part of the system rather than an afterthought or fixes applied later. This proactive approach helps to identify and address potential security vulnerabilities and risks early on, reducing the likelihood of security breaches and the associated costs and damages. In practice: When starting new projects, an initial risk assessment/threat modeling must be made. The product owner is responsible for this, as defined in the development process . Utilize the risk assessment/threat modeling exercise to identify potential security threats and determine appropriate mitigations. Ensure source code analysis is implemented throughout your development lifecycle, so that vulnerabilities are detected and can be fixed as soon as theyâre written. For more in-depth practices, SANS offers a great Security Checklist for Web Application Design . Security by design principles guide the development and implementation of secure applications by emphasizing proactive security measures instead of reactive ones. More information can be accessed within the document Principles of Security . Secure Coding Practices ï This checklist acts like a starting point when thinking about the security in your applications and services. The list contains high level concepts that needs to be handled different for each project. How to implement these concepts will depend on the technology and the security classification of the data handled. If you as a developer has considered these concepts in the applications and services you are developing, you have made sure to handle most of the common security issues. Risk Assessment/Threat modeling : Conduct a risk assessment and threat modeling exercise to identify potential security threats. This process helps to determine which security controls are appropriate to mitigate risks effectively. AAA (Authentication, Authorization, and Accounting) : AAA plays an important role in secure coding practices by establishing layers of defense. Authentication verifies user identities, preventing unauthorized access. Authorization controls user permissions, limiting actions to authorized tasks. Accounting tracks user activities, aiding in monitoring and accountability, essential for maintaining a secure and trustworthy system. Input Validation : By validating input, you can prevent malicious users from exploiting vulnerabilities in your system and potentially gaining unauthorized access, executing arbitrary code, or manipulating data. Input validation also helps maintain the integrity of the data within a system. It ensures that only valid and expected data is processed, stored or transmitted. Output Encoding : Make sure to encode or escape all output data to prevent it from being interpreted as code and potentially exploited by attackers. Authentication and Password Management : Use strong authentication mechanisms to ensure only authorized users are permitted access. If possible, implement multi-factor authentication (MFA). Enforce delays after a certain number of failed logins to prevent brute-force attacks. Session Management : Ensure proper session management to protect sensitive user data from unauthorized access or manipulation. Use secure communication and employ safeguards against session hijacking. Implement inactivity timeouts and make sure sessions are destroyed upon logging out. Access Control : Enforce proper access controls and authorization mechanisms to restrict userâs privileges based on their roles and permissions. If possible, deny by default. Implement rate limiting to minimize the harm from automated attack and log all requests, both successful and failed. Cryptographic Practices : Use strong cryptographic algorithms and implement encryption to protect sensitive data, both in transit and at rest. Data at rest should preferably be encrypted both at disk and database level. Take care to protect encryption keys from unauthorized access. Error Handling and Logging : Error handlers should present meaningful messages without disclosing any sensitive information (e.g., system details, software version, session identifiers). Logging is important for troubleshooting, but it also plays a crucial role for incident and forensic investigations. As a financial institute we are required keep detailed logs as a historical record of activities. For more information regarding logging, please see Guidelines - Logging requirements . Data Protection : Implement appropriate measures to protect data throughout its lifecycle, including access control, encryption, secure storage, secure transmission, and proper handling of data in transit and at rest. Communication Security : Use secure protocols (e.g., HTTPS) and encryption to protect data transmitted between the application or service and its users. This ensures data becomes unreadable to unauthorized individuals. Secure communication protocols ensures the integrity of transmitted data by protecting against unauthorized modifications during transmission. Secure communication protocols also provide non-repudiation, which ensures that the sender of a message cannot deny sending it. System Configuration : Follow secure configuration practices to ensure that the system and its dependencies are properly configured, and that default or weak configurations are avoided. Database Security : Implement proper security controls for databases, including proper access control, secure storage of sensitive information and protection against SQL injection and other attacks. File Management : Apply security measures to file handling operations, such as access control, input validation, secure storage and protection against directory traversal or file inclusions. Memory Management : Implement secure memory management practices to prevent memory-related vulnerabilities like buffer overflows, use-after-free and memory leaks, which can be exploited by attackers to gain unauthorized access or execute arbitrary code. General Coding Practices : Follow secure coding best practices, such as using tested and approved code rather than creating new to avoid common security pitfalls. Perform regular code reviews and security testing. Reference: OWASP Secure Coding Practices-Quick Reference Guide . Common Vulnerabilities in Web-Applications ï The OWASP Top 10 is a list of the most critical web application security risks. It provides guidance to developers on the most common vulnerabilities that can lead to security breaches. By understanding and addressing these vulnerabilities, developers can enhance the security of their applications. A01:2021-Broken Access Control Broken access controls can lead to unauthorized access to functionality or data. Attackers can exploit these flaws to bypass authorization and perform actions not intended for their privileges A02:2021-Cryptographic Failures If applications handle sensitive data such as passwords, credit card numbers, personal information etc. this data must be protected. Additionally, developers should ensure that they are not storing any sensitive data unnecessarily. A03:2021-Injection Injection vulnerabilities occur when untrusted data is sent to an interpreter as part of a command or query. This can lead to malicious code execution and unauthorized access to data. There are lots of interpreters in the typical web environment, such as SQL, LDAP, Operating System, XPath, XQuery, Expression Language, and many more. Anything with a âcommand interfaceâ that combines data into a command is susceptible. A04:2021-Insecure Design Insecure design is a broad category representing different weaknesses, expressed as âmissing or ineffective control designâ. An insecure design cannot be fixed by a perfect implementation because necessary security controls were never implemented to defend against specific attacks. One of the contributing factors to insecure design is the absence of risk profiling during the development of the software or system. A05:2021-Security Misconfiguration Security misconfiguration is the most common vulnerability on the list and is often the result of using default configurations or displaying excessively verbose errors. For instance, an application could show a user overly descriptive errors which may reveal vulnerabilities in the application. A06:2021-Vulnerable and Outdated Components Vulnerable and outdated components refer to libraries or frameworks used in applications that have known vulnerabilities or are no longer supported by their developers. These components can be exploited by attackers to gain unauthorized access to sensitive data or take control of the system. A07:2021-Identification and Authentication Failures Confirmation of the userâs identity, authentication and session management is critical to protect against authentication-related attacks. For example, an attacker can take a list containing thousands of known username/password combinations obtained during a data breach and try to brute force the authentication system. A08:2021-Software and Data Integrity Failures Software and data integrity failures relate to code and infrastructure that does not protect against integrity violations. An example of this is where an application relies upon plugins, libraries, or modules from untrusted sources, repositories, and content delivery networks (CDNs). A09:2021-Security Logging and Monitoring Failures The average time to detect and contain a breach is approximately 9 months. This gives attackers a lot of time to cause damage before there is any response. OWASP recommends that web developers should implement logging and monitoring as well as incident response plans to ensure that they are made aware of attacks on their applications. A10:2021-Server-Side Request Forgery In a Server-Side Request Forgery (SSRF) attack, the attacker can abuse functionality on the server to read or update internal resources. The attacker can supply or modify a URL which the code running on the server will read or submit data to, and by carefully selecting the URLs, the attacker may be able to read server configuration or access internal services which are not intended to be exposed. Reference: OWASP Top 10 . Developer Training ï TODO: Tech Security is currently researching different platforms to help developers learn and apply secure coding techniques. Application Security Testing ï At SBAB we are still working a lot in the traditional way of software testing. Dedicated testers or business analysts are looking at changes developed by others to verify the correctness. This is usually done after the development is done. We are currently in the process of adjusting this strategy to instead run many different tests continuously at each commit. This way we can detect errors in their early stages, allowing for easier and more cost-effective resolutions. Code Review ï When a developer completes a change, they create a merge request (MR). Usually, two reviewers are assigned to inspect the changes, looking for any issues, potential bugs or deviations from best practices. By enforcing code review we improve the overall quality of the codebase, identify and fix bugs early on and ensure that the code aligns with our standards. Unit Testing ï Developers are responsible for unit testing. It helps identify bugs and verifies that each unit of code works as intended before integrating them into the larger system. At SBAB tech we use predefined pipelines to push changes through our different test environments to production. There are requirements in place that no code can be deployed to any environment if it has less than 50 % unit coverage but this is just one part of the test quadrants. Static Application Security Testing (SAST) ï Static Application Security Testing (SAST) plays an important role in ensuring the security of our applications and services throughout the development process. In our build pipeline we use OWASP Dependency-Check and SonarQube to perform static analysis. OWASP Dependency-Check is an open-source tool that scans dependencies for known vulnerabilities. SonarQube scans our codebase to identify various security weaknesses. In order to ensure the quality of our code we have implemented quality gates with conditions related to: Test coverage Maintainability Reliability Security Dynamic Application Security Testing (DAST) ï We are currently not using Dynamic Application Security Testing (DAST). Penetration Testing ï Depending on the system and the type of data it processes, a one-time or recurring penetration test may be required. Penetration testing extends automated scans and simulates real-world attacks on the system to identify vulnerabilities and weaknesses that malicious actors could exploit. The goal of a penetration test is to proactively find potential security flaws before they can be exploited by criminals. Penetration tests are usually conducted by an external security tester, following a structured methodology and documenting each step of the process. For more information regarding penetration testing, please see Security Testing and Reviews or contact Tech Security. Shared Libraries ï At SBAB, we maintain a collection of shared libraries designed to increase security and maintain code consistency across projects. The libraries are maintained by the Technical Architecture Forum and are available from our internal Gitlab repository ( https://gitlab.sbab.se/tech-arch-forum/ ). All developers are encouraged to contribute suggestions and feedback. These libraries should always be considered when implementing security functionality. They include essential functions such as: Authentication Tracing Logging Health check Common configurations Feel free to explore and leverage these resources to streamline your project development and ensure adherence to best practices. If you encounter missing functionality, or have any questions regarding these libraries, please contact the Technical Architecture Forum via Slack (#forum-technical-architecture). Links ï SÃ¤kerhetsinstruktion - Anskaffning, utveckling och underhÃ¥ll av informationssystem SBAB Development Process SBAB Development Process FAQ SBAB Logging Requirements SBAB Security Testing and Reviews SANS Security Checklist for Web Application Design OWASP Secure Coding Practices-Quick Reference Guide OWASP Top 10 Previous Next © Copyright 2024, TNT. Built with Sphinx using a theme provided by Read the Docs .