Generate certificate — SBAB Docs  documentation SBAB Docs Ansible Controller Ansible Roles Ansible Vault Argo Workflows Authentication & Authorization Bitbucket Boost Chatbot Booli Ceph Dex Fortigate troubleshooting Generate certificate Pipeline Ansible Go GitHub Copilot GitLab @Sbab User Guide GitLab Maintenance Grafana Istio Java Jenkins Jenkinsfile Jmeter Kafka Maintenance Kafka @Sbab User Guide Kafka Connect Kubectl Access Kubernetes Lab environment Local Open Web Metrics infrastructure MongoDB Netbox NVIDIA Neo4J Sonatype Nexus repository Oracle OWASP Database OWASP @Sbab User Guide Pact Principles of Security Prometheus ReactJS Redis Renovate S3 Security Guidelines for Developers Sentry Maintenance Sentry User Guide Configuring Variables for Services Deployed to Kubernetes Software Architecture SonarQube Maintenance SonarQube User Guide Structurizr System Landscape Vagrant Zipkin Windows Pipelines SBAB Docs » Generate certificate View page source Generate certificate ï Use this pipeline to generate a new certificate and push it to Hashicorp vault. Pipeline ï Browse to generate-ssl-certificate Select âRun pipelineâ in upper right corner Write the service name under âVariableâ section and select âRun pipelineâ Ansible ï Checkout Ansible into a new branch Modify âinventories/oscommon/group_vars/k8sproxy.ymlâ Move â<servicename>.pemâ from âhaproxy_embedded_certsâ section to âhashicorp_vault_certsâ Modify the value to point to place where the certification is stored in Hashicorp vault, e.g <servicename>.pem: "common/data/k8s/common/files/ssl-certs/<servicename>" Commit and push Use ansible-playbook pipeline in Jenkins to deploy your changes for both data centers. ki: ansible - playbook -- inventory inventories / oscommon playbooks / k8s / configure_proxy . yml \ -- extra - vars primary_master = k8s - m1 - ki -- extra - vars parentgroup = k8s - ki \ -- extra - vars mastergroup = k8smaster - ki -- extra - vars workergroup = k8sworker - ki \ -- extra - vars proxygroup = k8sproxy - ki uv: ansible - playbook -- inventory inventories / oscommon playbooks / k8s / configure_proxy . yml \ -- extra - vars primary_master = k8s - m1 - uv -- extra - vars parentgroup = k8s - uv \ -- extra - vars mastergroup = k8smaster - uv -- extra - vars workergroup = k8sworker - uv \ -- extra - vars proxygroup = k8sproxy - uv Previous Next © Copyright 2024, TNT. Built with Sphinx using a theme provided by Read the Docs .