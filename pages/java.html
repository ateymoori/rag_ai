Java — SBAB Docs  documentation SBAB Docs Ansible Controller Ansible Roles Ansible Vault Argo Workflows Authentication & Authorization Bitbucket Boost Chatbot Booli Ceph Dex Fortigate troubleshooting Generate certificate Go GitHub Copilot GitLab @Sbab User Guide GitLab Maintenance Grafana Istio Java Jenkins Jenkinsfile Jmeter Kafka Maintenance Kafka @Sbab User Guide Kafka Connect Kubectl Access Kubernetes Lab environment Local Open Web Metrics infrastructure MongoDB Netbox NVIDIA Neo4J Sonatype Nexus repository Oracle OWASP Database OWASP @Sbab User Guide Pact Principles of Security Prometheus ReactJS Redis Renovate S3 Security Guidelines for Developers Sentry Maintenance Sentry User Guide Configuring Variables for Services Deployed to Kubernetes Software Architecture SonarQube Maintenance SonarQube User Guide Structurizr System Landscape Vagrant Zipkin Windows Pipelines SBAB Docs » Java View page source Java ï This guide describes how to setup Java with jEnv on macOS . Install jEnv using the steps describes in the jEnv guide for Zsh. brew install jenv echo 'export PATH="$HOME/.jenv/bin:$PATH"' >> ~/.zshrc echo 'eval "$(jenv init -)"' >> ~/.zshrc Enable the export plugin for jEnv to make JAVA_HOME work when switching between Java versions. jenv enable-plugin export Download and install the Amazon Corretto LTS Java versions used and supported at SBAB. For macOS , use the pkg version. Downloads for Amazon Corretto 21 Downloads for Amazon Corretto 17 Downloads for Amazon Corretto 11 Downloads for Amazon Corretto 8 Configure jEnv JDKs for the installed versions. jenv add /Library/Java/JavaVirtualMachines/amazon-corretto-21.jdk/Contents/Home/
jenv add /Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/
jenv add /Library/Java/JavaVirtualMachines/amazon-corretto-11.jdk/Contents/Home/
jenv add /Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home/ Configure the desired default java version. jenv global 17 .0 Tip Use jenv versions to list the currently available Java versions. jenv versions
  system 1 .8 1 .8.0.362 1 .8.0.371 11 .0 11 .0.18
* 17 .0 ( set by /Users/pknu/.jenv/version ) 17 .0.6 21 corretto64-1.8.0.362
  corretto64-11.0.18
  corretto64-17.0.6
  corretto64-21
  oracle64-1.8.0.371 Save the SBABBankRoot cert to /etc/ssl/certs/SBABBankRootCA1.pem (or another target location if preferred). Either export from your local Keychain Access: System > SBAB Bank Root Certificate Authority 1 > Export > File format .pem . Or download from the Ansible repo . Import the SBABBankRoot certificate to all installed Java versions. jenv shell 21 sudo keytool -noprompt -keystore ${ JAVA_HOME } /lib/security/cacerts -importcert -alias sbabcaroot -file /etc/ssl/certs/SBABBankRootCA1.pem -storepass changeit
jenv shell 17 .0
sudo keytool -noprompt -keystore ${ JAVA_HOME } /lib/security/cacerts -importcert -alias sbabcaroot -file /etc/ssl/certs/SBABBankRootCA1.pem -storepass changeit
jenv shell 11 .0
sudo keytool -noprompt -keystore ${ JAVA_HOME } /lib/security/cacerts -importcert -alias sbabcaroot -file /etc/ssl/certs/SBABBankRootCA1.pem -storepass changeit
jenv shell 1 .8
sudo keytool -noprompt -keystore ${ JAVA_HOME } /jre/lib/security/cacerts -importcert -alias sbabcaroot -file /etc/ssl/certs/SBABBankRootCA1.pem -storepass changeit Install Maven. brew install maven Enable the maven plugin for jEnv . jenv enable-plugin maven Add the SBAB Nexus mirror to the maven settings.xml file. The user level settings file is located in ~/.m2/settings.xml . <mirror> <id> nexus </id> <name> nexus </name> <url> http://nexus.common.sbab.se:8081/repository/maven-public/ </url> <mirrorOf> * </mirrorOf> </mirror> With all this in place, you should be able to switch between Java versions, build projects and access SBAB resources via
HTTPS, such as the Avro schema-registry in sys at https://schema-registry.sys.sbab.se from your locally running Java
services. Tip Add a local .java-version file to the root of any java based service or library. The content should be the
desired Java version to use as returned from the jenv versions command, such as 17.0 . If you need to use a specific java version from a command shell that is not a part of a project with a local .java-version file, use the jenv shell command as described at https://www.jenv.be/ . For example jenv shell 17.0 . Previous Next © Copyright 2024, TNT. Built with Sphinx using a theme provided by Read the Docs .